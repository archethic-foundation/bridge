import{cY as f,cZ as d,c_ as y,c$ as A,cH as p,cV as x,d0 as h,d1 as L,d2 as F}from"../main.js";function c(o,r){switch(o.binary){case"bytes":if("layout"in o){const{custom:t}=o;return t===void 0||typeof t.from!="function"?e(o.layout,t?t.from:r):r}case"int":case"uint":{const{custom:t}=o;return o!=null&&o.omit?void 0:d(t)?t:y(t)?t.to:r}case"array":return Array.isArray(r)?r.map(t=>e(o.layout,t)):void 0;case"switch":{const t=r[o.idTag??"id"],[s,n]=o.layouts.find(([a])=>(Array.isArray(a)?a[1]:a)==t);return{[o.idTag??"id"]:t,...e(n,r)}}}}function e(o,r){if(r=r??{},f(o))return c(o,r);const t={};for(const s of o){const n=c(s,r[s.name]??{});n!==void 0&&(t[s.name]=n)}return t}function i(o,r){return e(o,r)}function u(o){return[...h,L(o)]}function T(o,r){const[t,s]=A(o),n=i(u(o),r);return{protocolName:t,payloadName:s,payloadLiteral:o,...i(F,r),...n,hash:p(x(u(o),n))}}export{T as c};
